<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pinterest</title>
    <link rel="stylesheet" href="/stylesheets/profile.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.tailwindcss.com"></script>
    <link
    href="https://cdn.jsdelivr.net/npm/remixicon@4.1.0/fonts/remixicon.css"
    rel="stylesheet"
/>
</head>
<body>
  <nav class="w-full flex px-4 py-2 gap-4">
    <img class="w-10 h-10" src="https://uxwing.com/wp-content/themes/uxwing/download/brands-and-social-media/pinterest-round-color-icon.png">
    <ul class="navigation flex items-center gap-4">
      <li>Home</li>
      <li>Explore</li>
      <li>Create</li>
    </ul>
    <div class="px-3 py-2 flex items-center justify-center rounded-lg absolute right-10 text-white bg-red-600">
      <a href="/logout">Log Out</a>
    </div>
    <div class="px-3 py-2 flex items-center justify-center rounded-lg absolute right-36 text-white bg-zinc-600">
      <a href="/feed">Feeds</a>
    </div>
  </nav>


    <div class="boxx">

      <form id="uploadform" hidden action="/uploadPhoto" method="post" enctype="multipart/form-data">
        <input id="uploadfile" type="file" name="image">
      </form>
       <div class="w-24 h-24 rounded-full bg-zinc-200 relative">
        <span id="changePhoto" class="px-2 py-1 bg-zinc-800 rounded-full absolute bottom-0 right-0 cursor-pointer"><i class="ri-pencil-line text-white"></i></span>
        <img class="w-full h-full object-cover object-top" src="./images/uploads/<%=user.dp%>" alt="">
       </div>

       <div class="info">
        <h2 class="font-semibold text-xl mt-2"><%=user.fullName%></h2>
        <h2 class="font-semibold text-sm mt-2">Username:-<%=user.username%></h2>
        <h2 class="font-semibold opacity-60 text-sm mt-2"><%=user.email%></h2>
       </div>
      


        <form class="border-2 border-zinc-400 w-[100%] p-2 rounded-md" action="/upload" method="POST" enctype="multipart/form-data">
          <h4>Upload your Image</h4>
          <input class="file" type="file" name="file">
          <input class="border-2 border-black px-2 py-1 rounded-md focus:outline-none" type="text" name="description" placeholder="description">
          <input class="px-3 py-2 rounded-md bg-red-600 text-white" type="submit" value="Upload">
        </form>
      
        
      
      </div>

      <hr class="my-2">


      <h1 class="text-4xl font-semibold uppercase text-center mt-3 underline">Your Posts</h1>
      <div class="postbox">

        <% user.posts.forEach((post)=>{ %>
          <div class="card" style="width: 18rem">
            <img src="/images/uploads/<%=post.postImage%>" class="card-img-top" alt="...">
            <div class="card-body">
              <p class="card-text"><%=post.postText%></p>
            </div>
          </div>
        <% }) %>
      
    </div>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
      <script>
        document.querySelector("#changePhoto").addEventListener("click",()=>{
          document.querySelector("#uploadfile").click()
        })

        document.querySelector("#uploadfile").addEventListener("change",()=>{
          document.querySelector("#uploadform").submit()
        })
      </script>
  </body>
</body>
</html>